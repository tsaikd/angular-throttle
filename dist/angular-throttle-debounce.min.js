/* angular-throttle-debounce v0.0.7 (cb6b667) 2015-11-11
 * https://github.com/tsaikd/angular-throttle-debounce
 * License: MIT
 */

!function(){function n(n){return n&&angular.isFunction(n.then)&&angular.isFunction(n["catch"])&&angular.isFunction(n["finally"])}angular.module("angular-throttle-debounce",[]).factory("throttle",["$q","$timeout",function(n,r){return function(t,u,e){u=u||250;var a,c;return function(){var i=+new Date,o=arguments,l=this;if(r.cancel(c),a&&a+u>i)return e&&(c=r(function(){return i=+new Date,a=i,t.apply(l,o)},u)),c;var f=n.defer();return a=i,f.resolve(t.apply(l,o)),c=f.promise}}}]).factory("debounce",["$timeout",function(n){return function(r,t){t=t||250;var u;return function(){var e=arguments,a=this;return n.cancel(u),u=n(function(){return r.apply(a,e)},t)}}}]).factory("singleton",["$q",function(r){return function(t,u){var e=null;return function(){var a=arguments,c=this;if(e)return e;if(!angular.isFunction(t))return r.reject(new Error("callback must be function"));var i=t.apply(c,a);return n(i)?e=r.when(i)["finally"](function(){u!==!0&&(e=null)}):r.reject(new Error("callback return must be promise object"))}}}])}();